if(!window.NY_INSTA_MAX_ITEMS){window.NY_INSTA_MAX_ITEMS=-1;}
document.addEventListener('DOMContentLoaded',function(){var container=document.getElementById("instagramFeedContainer");if(container){loadJSONP('https://cdn.feedtures.com/whats-new?page=1&json=1',function(feed){for(var i=0;i<feed.items.length;i++){var item=feed.items[i];var el=document.createElement("a");el.href=item.url;el.target="_blank";el.classList.add("ny-insta-"+(i+1));el.style.backgroundImage="url(\""+item.image+"\")";container.appendChild(el);if(window.NY_INSTA_MAX_ITEMS>0&&i>=(window.NY_INSTA_MAX_ITEMS-1)){break}}});}});var loadJSONP=(function(){return function(url,callback,context){var name="asdqweasdqweasdfghrtzcvb";if(url.match(/\?/))url+="&callback="+name;else url+="?callback="+name;var script=document.createElement('script');script.type='text/javascript';script.src=url;window[name]=function(data){callback.call((context||window),data);document.getElementsByTagName('head')[0].removeChild(script);script=null;delete window[name];};document.getElementsByTagName('head')[0].appendChild(script);};})();var CAROUSEL_TIMER=3000;function buildCarousel(data){var carouselCurrentItem=-1;var timer;var carousel=document.getElementById('carousel');if(!document.querySelector('#carousel'))return;resetTimer();var allControls=document.querySelectorAll('#carousel .controls a');for(var i=0;i<allControls.length;i++){var element=allControls[i];element.setAttribute("data-index",""+i);element.addEventListener('click',goToItem);}
carouselTimerAction();function goToItem(event){var itemIndex=parseInt(event.target.getAttribute('data-index'),10);if(itemIndex===carouselCurrentItem)return;changeActiveItem(itemIndex);resetTimer();}
function carouselTimerAction(){var newIndex=carouselCurrentItem+1;if(newIndex>=allControls.length){newIndex=0;}
changeActiveItem(newIndex);}
function changeActiveItem(index){var oldActiveControl=document.querySelector('#carousel .controls a.active');if(oldActiveControl){oldActiveControl.setAttribute('class','');}
var allElements=document.querySelectorAll('#carousel .item');for(var i=0;i<allElements.length;i++){var nextClass=(i===index)?'active':(i>index)?'future':'past';if(i===index+1){nextClass+=" next";}
allElements[i].setAttribute('class','item '+nextClass);}
var newActiveControl=document.querySelectorAll('#carousel .controls a')[index];newActiveControl.setAttribute('class','active');carouselCurrentItem=index;}
function resetTimer(){if(timer){clearInterval(timer);}
timer=setInterval(carouselTimerAction,CAROUSEL_TIMER);}}
buildCarousel();